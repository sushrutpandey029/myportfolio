{% extends "base/admin_base.html" %}

{% block title %}Edit Home Page Content - Admin Panel{% endblock %}

{% block header_title %}Edit Home Page Content{% endblock %}

{% block content %}
<div class="max-w-[1200px] mx-auto pb-32">
    <!-- Breadcrumbs & Heading -->
    <div class="mb-8">
        <div class="flex items-center gap-2 text-slate-500 dark:text-slate-400 text-sm mb-2">
            <a href="{{ url_for('admin_bp.admin_dashboard') }}" class="hover:text-primary transition-colors">Admin</a>
            <span class="material-symbols-outlined text-[16px]">chevron_right</span>
            <a href="{{ url_for('admin_bp.admin_content_home_page') }}"
                class="hover:text-primary transition-colors">Home Page Content</a>
            <span class="material-symbols-outlined text-[16px]">chevron_right</span>
            <span class="text-slate-900 dark:text-white">Edit</span>
        </div>
        <div class="flex items-center justify-between">
            <div>
                <h1
                    class="text-slate-900 dark:text-white text-3xl md:text-4xl font-black leading-tight tracking-tight mb-2">
                    Edit Home Page Content</h1>
                <p class="text-slate-500 dark:text-slate-400 text-lg">Update the content displayed on your public Home
                    page.</p>
            </div>
        </div>
    </div>

    <form method="POST" enctype="multipart/form-data" class="space-y-6">
        {{ form.hidden_tag() }}

        <!-- Hero Section -->
        <section
            class="bg-white dark:bg-surface-dark rounded-2xl border border-slate-200 dark:border-slate-800 p-6 md:p-8 shadow-sm">
            <div class="flex items-center gap-3 mb-6">
                <div class="p-3 bg-gradient-to-br from-primary/20 to-purple-500/20 rounded-xl">
                    <span class="material-symbols-outlined text-2xl text-primary">rocket_launch</span>
                </div>
                <div>
                    <h2 class="text-slate-900 dark:text-white text-xl font-bold">Hero Section</h2>
                    <p class="text-slate-500 dark:text-slate-400 text-sm">Main banner and headlines</p>
                </div>
            </div>
            <div class="space-y-6">
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="space-y-2">
                        {{ form.hero_title_line1.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300")
                        }}
                        {{ form.hero_title_line1(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                        border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                        focus:ring-2 focus:ring-primary focus:border-transparent placeholder-slate-400") }}
                    </div>
                    <div class="space-y-2">
                        {{ form.hero_title_line2.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300")
                        }}
                        {{ form.hero_title_line2(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                        border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                        focus:ring-2 focus:ring-primary focus:border-transparent placeholder-slate-400") }}
                    </div>
                </div>
                <div class="space-y-2">
                    {{ form.hero_subtitle.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                    {{ form.hero_subtitle(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                    border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                    focus:ring-2 focus:ring-primary focus:border-transparent placeholder-slate-400 resize-none", rows=3)
                    }}
                </div>
            </div>
        </section>

        <!-- Profile Section -->
        <section
            class="bg-white dark:bg-surface-dark rounded-2xl border border-slate-200 dark:border-slate-800 p-6 md:p-8 shadow-sm">
            <div class="flex items-center gap-3 mb-6">
                <div class="p-3 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-xl">
                    <span class="material-symbols-outlined text-2xl text-blue-500">account_circle</span>
                </div>
                <div>
                    <h2 class="text-slate-900 dark:text-white text-xl font-bold">Profile Section</h2>
                    <p class="text-slate-500 dark:text-slate-400 text-sm">Profile information and details</p>
                </div>
            </div>
            <div class="space-y-6">


                <div class="space-y-2">
                    {{ form.profile_image.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                    {{ form.profile_image(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                    border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                    focus:ring-2 focus:ring-primary focus:border-transparent file:mr-4 file:py-2 file:px-4
                    file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white
                    hover:file:bg-blue-600") }}
                    {% if content.profile_image %}
                    <div
                        class="mt-3 p-4 bg-slate-50 dark:bg-background-dark rounded-xl border border-slate-200 dark:border-slate-700">
                        <p class="text-xs text-slate-500 dark:text-slate-400 mb-2">Current image:</p>
                        <img src="{{ url_for('static', filename='uploads/profile/' + content.profile_image) }}"
                            alt="Profile"
                            class="h-32 w-32 rounded-full object-cover border-4 border-white dark:border-slate-700 shadow-lg">
                    </div>
                    {% endif %}
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section
            class="bg-white dark:bg-surface-dark rounded-2xl border border-slate-200 dark:border-slate-800 p-6 md:p-8 shadow-sm">
            <div class="flex items-center gap-3 mb-6">
                <div class="p-3 bg-gradient-to-br from-green-500/20 to-emerald-500/20 rounded-xl">
                    <span class="material-symbols-outlined text-2xl text-green-500">analytics</span>
                </div>
                <div>
                    <h2 class="text-slate-900 dark:text-white text-xl font-bold">Statistics</h2>
                    <p class="text-slate-500 dark:text-slate-400 text-sm">Key metrics and numbers</p>
                </div>
            </div>
            <div class="grid md:grid-cols-4 gap-4">
                <div class="space-y-2">
                    {{ form.stat_projects.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                    {{ form.stat_projects(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                    border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                    focus:ring-2 focus:ring-primary focus:border-transparent placeholder-slate-400", placeholder="150+")
                    }}
                </div>
                <div class="space-y-2">
                    {{ form.stat_materials.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                    {{ form.stat_materials(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                    border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                    focus:ring-2 focus:ring-primary focus:border-transparent placeholder-slate-400", placeholder="500+")
                    }}
                </div>
                <div class="space-y-2">
                    {{ form.stat_team.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                    {{ form.stat_team(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                    border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                    focus:ring-2 focus:ring-primary focus:border-transparent placeholder-slate-400", placeholder="50+")
                    }}
                </div>
                <div class="space-y-2">
                    {{ form.stat_downloads.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                    {{ form.stat_downloads(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                    border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                    focus:ring-2 focus:ring-primary focus:border-transparent placeholder-slate-400", placeholder="1.2k")
                    }}
                </div>
            </div>
        </section>

        <!-- Knowledge Hub Section -->
        <section
            class="bg-white dark:bg-surface-dark rounded-2xl border border-slate-200 dark:border-slate-800 p-6 md:p-8 shadow-sm">
            <div class="flex items-center gap-3 mb-6">
                <div class="p-3 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-xl">
                    <span class="material-symbols-outlined text-2xl text-purple-500">school</span>
                </div>
                <div>
                    <h2 class="text-slate-900 dark:text-white text-xl font-bold">Knowledge Hub Section</h2>
                    <p class="text-slate-500 dark:text-slate-400 text-sm">Learning resources area</p>
                </div>
            </div>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-2">
                    {{ form.knowledge_hub_title.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300")
                    }}
                    {{ form.knowledge_hub_title(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                    border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                    focus:ring-2 focus:ring-primary focus:border-transparent placeholder-slate-400") }}
                </div>
                <div class="space-y-2">
                    {{ form.knowledge_hub_subtitle.label(class="text-sm font-semibold text-slate-700
                    dark:text-slate-300") }}
                    {{ form.knowledge_hub_subtitle(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                    border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                    focus:ring-2 focus:ring-primary focus:border-transparent placeholder-slate-400 resize-none", rows=3)
                    }}
                </div>
            </div>
        </section>

        <!-- Workflow Section -->
        <section
            class="bg-white dark:bg-surface-dark rounded-2xl border border-slate-200 dark:border-slate-800 p-6 md:p-8 shadow-sm">
            <div class="flex items-center gap-3 mb-6">
                <div class="p-3 bg-gradient-to-br from-orange-500/20 to-amber-500/20 rounded-xl">
                    <span class="material-symbols-outlined text-2xl text-orange-500">timeline</span>
                </div>
                <div>
                    <h2 class="text-slate-900 dark:text-white text-xl font-bold">Workflow Section</h2>
                    <p class="text-slate-500 dark:text-slate-400 text-sm">Process description area</p>
                </div>
            </div>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-2">
                    {{ form.workflow_title.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                    {{ form.workflow_title(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                    border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                    focus:ring-2 focus:ring-primary focus:border-transparent placeholder-slate-400") }}
                </div>
                <div class="space-y-2">
                    {{ form.workflow_subtitle.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                    {{ form.workflow_subtitle(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                    border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                    focus:ring-2 focus:ring-primary focus:border-transparent placeholder-slate-400 resize-none", rows=3)
                    }}
                </div>
            </div>
        </section>

        <!-- Call-to-Action Buttons -->
        <section
            class="bg-white dark:bg-surface-dark rounded-2xl border border-slate-200 dark:border-slate-800 p-6 md:p-8 shadow-sm">
            <div class="flex items-center gap-3 mb-6">
                <div class="p-3 bg-gradient-to-br from-red-500/20 to-pink-500/20 rounded-xl">
                    <span class="material-symbols-outlined text-2xl text-red-500">touch_app</span>
                </div>
                <div>
                    <h2 class="text-slate-900 dark:text-white text-xl font-bold">Call-to-Action Buttons</h2>
                    <p class="text-slate-500 dark:text-slate-400 text-sm">Primary action buttons</p>
                </div>
            </div>
            <div class="space-y-6">
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="space-y-2">
                        {{ form.cv_button_text.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300")
                        }}
                        {{ form.cv_button_text(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                        border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                        focus:ring-2 focus:ring-primary focus:border-transparent placeholder-slate-400") }}
                    </div>
                    <div class="space-y-2">
                        {{ form.cv_button_link.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300")
                        }}
                        {{ form.cv_button_link(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                        border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                        focus:ring-2 focus:ring-primary focus:border-transparent placeholder-slate-400",
                        placeholder="https://example.com/cv.pdf") }}
                        <p class="text-xs text-slate-500 dark:text-slate-400">Optional: Direct link to CV file</p>
                    </div>
                </div>
                <div class="space-y-2">
                    {{ form.hire_button_text.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                    {{ form.hire_button_text(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                    border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                    focus:ring-2 focus:ring-primary focus:border-transparent placeholder-slate-400") }}
                </div>
            </div>
        </section>

        <!-- Sticky Action Bar -->
        <div class="fixed bottom-0 left-0 w-full bg-white/90 dark:bg-background-dark/90 backdrop-blur-md border-t border-slate-200 dark:border-slate-800 p-4 z-40"
            style="padding-left: calc(var(--sidebar-width, 0px) + 1rem);">
            <div class="max-w-[1200px] mx-auto flex items-center justify-between">
                <div class="flex items-center gap-2 text-slate-500 dark:text-slate-400 text-sm">
                    <span class="material-symbols-outlined text-[18px]">info</span>
                    <span>Make sure to save your changes</span>
                </div>
                <div class="flex gap-4">
                    <a href="{{ url_for('admin_bp.admin_content_home_page') }}"
                        class="px-6 py-2.5 rounded-lg border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-white font-medium hover:bg-slate-100 dark:hover:bg-surface-dark transition-colors">
                        Cancel
                    </a>
                    {{ form.submit(class="px-8 py-2.5 rounded-lg bg-primary text-white font-medium hover:bg-blue-600
                    transition-colors shadow-lg shadow-blue-500/20 flex items-center gap-2") }}
                </div>
            </div>
        </div>
    </form>
</div>

<script>
    // Adjust footer padding based on sidebar width
    function adjustFooterWidth() {
        const sidebar = document.querySelector('aside');
        const footer = document.querySelector('.fixed.bottom-0');
        if (sidebar && footer && window.innerWidth >= 768) {
            footer.style.paddingLeft = 'calc(256px + 1rem)';
        } else if (footer) {
            footer.style.paddingLeft = '1rem';
        }
    }

    window.addEventListener('resize', adjustFooterWidth);
    window.addEventListener('load', adjustFooterWidth);
</script>
{% endblock %}