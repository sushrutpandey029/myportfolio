{% extends "base/admin_base.html" %}

{% block content %}
<div class="min-h-screen p-6 md:p-10">
    <div class="max-w-4xl mx-auto">
        <!-- Header -->
        <div class="mb-8">
            <h1 class="text-3xl md:text-4xl font-black text-slate-900 dark:text-white mb-2">{{ action }} Team Member
            </h1>
            <p class="text-slate-500 dark:text-slate-400 text-lg">Fill in the team member details below</p>
        </div>

        <form method="POST" enctype="multipart/form-data" class="space-y-6">
            {{ form.hidden_tag() }}

            <section
                class="bg-white dark:bg-surface-dark rounded-2xl border border-slate-200 dark:border-slate-800 p-6 md:p-8 shadow-sm space-y-6">
                <!-- Name & Position -->
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="space-y-2">
                        {{ form.name.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                        {{ form.name(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                        border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                        focus:ring-2 focus:ring-primary focus:border-transparent", placeholder="John Doe") }}
                    </div>
                    <div class="space-y-2">
                        {{ form.position.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                        {{ form.position(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                        border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                        focus:ring-2 focus:ring-primary focus:border-transparent", placeholder="Full Stack Developer")
                        }}
                    </div>
                </div>

                <!-- Bio -->
                <div class="space-y-2">
                    {{ form.bio.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                    {{ form.bio(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border border-slate-200
                    dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none focus:ring-2
                    focus:ring-primary focus:border-transparent", rows="4", placeholder="Short bio about the team
                    member...") }}
                    <p class="text-xs text-slate-500 dark:text-slate-400">Brief description about the team member</p>
                </div>

                <!-- Image Upload & URL -->
                <div
                    class="space-y-4 p-4 bg-slate-50 dark:bg-background-dark/50 rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-700">
                    <h4 class="text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2">
                        <span class="material-symbols-outlined text-lg">image</span>
                        Profile Image
                    </h4>

                    <div class="space-y-2">
                        {{ form.image_upload.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                        {{ form.image_upload(class="w-full rounded-lg bg-white dark:bg-background-dark border
                        border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                        focus:ring-2 focus:ring-primary focus:border-transparent file:mr-4 file:py-2 file:px-4
                        file:rounded-lg file:border-0 file:text-sm file:font-semibold
                        file:bg-primary file:text-white hover:file:bg-primary-hover cursor-pointer") }}
                        <p class="text-xs text-slate-500 dark:text-slate-400">Upload JPG, PNG, or GIF (recommended)</p>
                    </div>

                    <div class="flex items-center gap-3">
                        <div class="flex-1 h-px bg-slate-300 dark:bg-slate-700"></div>
                        <span class="text-xs font-semibold text-slate-500 dark:text-slate-400">OR</span>
                        <div class="flex-1 h-px bg-slate-300 dark:bg-slate-700"></div>
                    </div>

                    <div class="space-y-2">
                        {{ form.image_url.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                        {{ form.image_url(class="w-full rounded-lg bg-white dark:bg-background-dark border
                        border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                        focus:ring-2 focus:ring-primary focus:border-transparent",
                        placeholder="https://example.com/image.jpg") }}
                        <p class="text-xs text-slate-500 dark:text-slate-400">Or provide an external image URL</p>
                    </div>

                    {% if team_member and team_member.image_url %}
                    <div class="pt-3 border-t border-slate-300 dark:border-slate-700">
                        <p class="text-xs font-semibold text-slate-600 dark:text-slate-400 mb-2">Current Image:</p>
                        <img src="{{ team_member.image_url if team_member.image_url.startswith('http') else url_for('static', filename=team_member.image_url) }}"
                            alt="{{ team_member.name }}"
                            class="w-24 h-24 rounded-xl object-cover border-2 border-slate-300 dark:border-slate-600">
                    </div>
                    {% endif %}
                </div>
            </section>

            <section
                class="bg-white dark:bg-surface-dark rounded-2xl border border-slate-200 dark:border-slate-800 p-6 md:p-8 shadow-sm space-y-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2">
                    <span class="material-symbols-outlined">link</span>
                    Social Media Links
                </h3>

                <!-- Social Links -->
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="space-y-2">
                        {{ form.linkedin_url.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                        {{ form.linkedin_url(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                        border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                        focus:ring-2 focus:ring-primary focus:border-transparent",
                        placeholder="https://linkedin.com/in/username") }}
                    </div>
                    <div class="space-y-2">
                        {{ form.twitter_url.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                        {{ form.twitter_url(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                        border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                        focus:ring-2 focus:ring-primary focus:border-transparent",
                        placeholder="https://twitter.com/username") }}
                    </div>
                    <div class="space-y-2">
                        {{ form.github_url.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                        {{ form.github_url(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                        border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                        focus:ring-2 focus:ring-primary focus:border-transparent",
                        placeholder="https://github.com/username") }}
                    </div>
                    <div class="space-y-2">
                        {{ form.dribbble_url.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                        {{ form.dribbble_url(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                        border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                        focus:ring-2 focus:ring-primary focus:border-transparent",
                        placeholder="https://dribbble.com/username") }}
                    </div>
                    <div class="space-y-2">
                        {{ form.behance_url.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                        {{ form.behance_url(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                        border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                        focus:ring-2 focus:ring-primary focus:border-transparent",
                        placeholder="https://behance.net/username") }}
                    </div>
                </div>
            </section>

            <section
                class="bg-white dark:bg-surface-dark rounded-2xl border border-slate-200 dark:border-slate-800 p-6 md:p-8 shadow-sm space-y-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2">
                    <span class="material-symbols-outlined">settings</span>
                    Display Settings
                </h3>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="space-y-2">
                        {{ form.order.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                        {{ form.order(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                        border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                        focus:ring-2 focus:ring-primary focus:border-transparent", placeholder="0") }}
                        <p class="text-xs text-slate-500 dark:text-slate-400">Lower numbers appear first</p>
                    </div>
                    <div class="space-y-2">
                        {{ form.is_active.label(class="text-sm font-semibold text-slate-700 dark:text-slate-300") }}
                        {{ form.is_active(class="w-full rounded-lg bg-slate-50 dark:bg-background-dark border
                        border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white p-3 focus:outline-none
                        focus:ring-2 focus:ring-primary focus:border-transparent") }}
                    </div>
                </div>
            </section>

            <!-- Actions -->
            <div class="flex gap-4">
                <a href="{{ url_for('admin_bp.admin_team_members') }}"
                    class="flex-1 inline-flex items-center justify-center gap-2 rounded-xl bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 px-6 py-3 text-base font-bold text-slate-700 dark:text-slate-300 transition-all duration-200">
                    <span class="material-symbols-outlined">close</span>
                    <span>Cancel</span>
                </a>
                {{ form.submit(class="flex-1 inline-flex items-center justify-center gap-2 rounded-xl bg-primary
                hover:bg-primary-hover px-6 py-3 text-base font-bold text-white transition-all duration-200 shadow-lg
                hover:shadow-xl cursor-pointer") }}
            </div>
        </form>
    </div>
</div>
{% endblock %}