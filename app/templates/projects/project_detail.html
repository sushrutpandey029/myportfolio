{% extends "base/base.html" %}

{% block content %}
<main class="w-full max-w-[1280px] mx-auto px-4 sm:px-6 lg:px-8 py-6">
    <!-- Breadcrumbs -->
    <nav class="flex flex-wrap gap-2 py-4 mb-6">
        <a class="text-text-secondary text-sm font-medium leading-normal hover:text-primary transition-colors"
            href="{{ url_for('pages.home') }}">Home</a>
        <span class="text-text-secondary text-sm font-medium leading-normal">/</span>
        <a class="text-text-secondary text-sm font-medium leading-normal hover:text-primary transition-colors"
            href="{{ url_for('projects.projects_list') }}">Projects</a>
        <span class="text-text-secondary text-sm font-medium leading-normal">/</span>
        <span class="text-white text-sm font-medium leading-normal">{{ project.title }}</span>
    </nav>

    <!-- Hero Header Info -->
    <div class="mb-8">
        <div class="flex flex-col md:flex-row md:items-start justify-between gap-6">
            <div class="flex flex-col gap-3 max-w-3xl">
                <h1 class="text-white text-4xl md:text-5xl font-black leading-tight tracking-tight">
                    {{ project.title }}
                </h1>
                <h2 class="text-text-secondary text-lg font-normal leading-relaxed">
                    {{ project.description or 'No description available.' }}
                </h2>
            </div>
        </div>
    </div>

    <!-- Main Layout Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
        <!-- Left Column (Content) -->
        <div class="lg:col-span-8 flex flex-col gap-10">
            <!-- Main Hero Image -->
            <div
                class="w-full max-w-2xl mx-auto aspect-video rounded-xl overflow-hidden shadow-2xl bg-surface-dark relative group">
                {% if project.image_url %}
                <img src="{{ url_for('static', filename=project.image_url) }}" alt="{{ project.title }}"
                    class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105">
                {% else %}
                <div
                    class="w-full h-full flex items-center justify-center bg-gradient-to-br from-primary/10 to-secondary/10">
                    <span class="material-symbols-outlined text-9xl text-white/20">folder</span>
                </div>
                {% endif %}
            </div>

            <!-- Project Description -->
            <div class="flex flex-col gap-8">
                <div class="bg-surface-dark rounded-xl p-6 border border-white/10 shadow-sm">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="p-2 bg-primary/10 rounded-lg text-primary">
                            <span class="material-symbols-outlined">info</span>
                        </div>
                        <h3 class="text-xl font-bold text-white">About This Project</h3>
                    </div>
                    <p class="text-text-secondary leading-relaxed">
                        {{ project.description or 'No detailed description available for this project.' }}
                    </p>
                </div>
            </div>
        </div>

        <!-- Right Column (Sticky Sidebar) -->
        <div class="lg:col-span-4">
            <div class="sticky top-24 flex flex-col gap-6">
                <!-- Project Meta Card -->
                <div class="bg-surface-dark rounded-xl border border-white/10 shadow-lg overflow-hidden">
                    <div class="p-6 flex flex-col gap-6">
                        <!-- Type & Status -->
                        <div class="flex items-center justify-between pb-4 border-b border-white/10">
                            <div class="flex flex-col">
                                <span
                                    class="text-text-secondary text-xs font-semibold uppercase tracking-wider">Type</span>
                                <span class="text-2xl font-bold text-white capitalize">{{ project.project_type }}</span>
                            </div>
                            <div
                                class="px-3 py-1 rounded-full {% if project.project_type == 'free' %}bg-green-500/20 border border-green-500/30{% else %}bg-purple-500/20 border border-purple-500/30{% endif %}">
                                <span
                                    class="{% if project.project_type == 'free' %}text-green-500{% else %}text-purple-500{% endif %} text-xs font-bold uppercase tracking-wide">
                                    {{ project.project_type }}
                                </span>
                            </div>
                        </div>

                        <!-- Key Info List -->
                        <div class="flex flex-col gap-4">
                            <div class="flex items-center justify-between text-sm">
                                <div class="flex items-center gap-2 text-text-secondary">
                                    <span class="material-symbols-outlined text-[18px]">category</span>
                                    <span>Category</span>
                                </div>
                                <span class="text-white font-medium">{{ project.category or 'General' }}</span>
                            </div>
                            <div class="flex items-center justify-between text-sm">
                                <div class="flex items-center gap-2 text-text-secondary">
                                    <span class="material-symbols-outlined text-[18px]">download</span>
                                    <span>Downloads</span>
                                </div>
                                <span class="text-white font-medium">{{ project.download_count or 0 }}</span>
                            </div>
                            <div class="flex items-center justify-between text-sm">
                                <div class="flex items-center gap-2 text-text-secondary">
                                    <span class="material-symbols-outlined text-[18px]">calendar_month</span>
                                    <span>Added</span>
                                </div>
                                <span class="text-white font-medium">{{ project.created_at.strftime('%b %d, %Y')
                                    }}</span>
                            </div>
                        </div>

                        <!-- Actions -->
                        <div class="flex flex-col gap-3 mt-2">
                            <a href="{{ url_for('projects.download_project', project_id=project.id) }}"
                                class="flex w-full items-center justify-center gap-2 rounded-lg bg-gradient-to-r from-green-500 to-emerald-500 hover:shadow-2xl hover:shadow-green-500/50 h-12 px-4 text-white text-base font-bold transition-all shadow-lg no-underline">
                                <span class="material-symbols-outlined text-[20px]">download</span>
                                <span>Download Project</span>
                            </a>
                            <a href="{{ url_for('contact.contact_form') }}"
                                class="flex w-full items-center justify-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 hover:shadow-2xl hover:shadow-blue-600/50 h-12 px-4 text-white text-base font-bold transition-all shadow-lg no-underline">
                                <span class="material-symbols-outlined text-[20px]">mail</span>
                                <span>Contact Us</span>
                            </a>
                            <a href="{{ url_for('projects.projects_list') }}"
                                class="flex w-full items-center justify-center gap-2 rounded-lg bg-surface-highlight hover:bg-white/10 h-12 px-4 text-white text-sm font-bold transition-colors border border-white/10 no-underline">
                                <span class="material-symbols-outlined text-[20px]">arrow_back</span>
                                <span>Back to Projects</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
{% endblock %}