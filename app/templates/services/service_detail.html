{% extends "base/base.html" %}

{% block extra_css %}
<style>
    @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap');

    body {
        font-family: 'Space Grotesk', 'Plus Jakarta Sans', sans-serif;
    }

    /* Premium Background */
    .detail-bg {
        background:
            radial-gradient(circle at 20% 20%, rgba(99, 102, 241, 0.15) 0%, transparent 50%),
            radial-gradient(circle at 80% 80%, rgba(168, 85, 247, 0.15) 0%, transparent 50%),
            #0B1120;
        background-attachment: fixed;
    }

    /* Glass Effect */
    .glass-premium {
        background: rgba(15, 23, 42, 0.6);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    /* Sticky Sidebar */
    .sticky-sidebar {
        position: sticky;
        top: 6rem;
    }

    /* Image Gallery */
    .service-hero-image {
        position: relative;
        overflow: hidden;
        border-radius: 2rem;
    }

    .service-hero-image img {
        transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .service-hero-image:hover img {
        transform: scale(1.1);
    }

    .service-hero-image::after {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(180deg, transparent 50%, rgba(11, 17, 32, 0.8) 100%);
    }

    /* Gradient Border */
    .gradient-border {
        position: relative;
    }

    .gradient-border::before {
        content: '';
        position: absolute;
        inset: -2px;
        background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);
        border-radius: inherit;
        opacity: 0;
        transition: opacity 0.3s;
        z-index: -1;
    }

    .gradient-border:hover::before {
        opacity: 0.5;
    }

    /* CTA Buttons */
    .cta-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
    }

    .cta-primary::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        transition: left 0.5s;
    }

    .cta-primary:hover::before {
        left: 100%;
    }

    .cta-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 20px 40px rgba(102, 126, 234, 0.4);
    }

    /* Feature Icons */
    .feature-icon {
        background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(168, 85, 247, 0.1) 100%);
        border: 1px solid rgba(99, 102, 241, 0.2);
        transition: all 0.3s;
    }

    .feature-item:hover .feature-icon {
        background: linear-gradient(135deg, #667eea, #764ba2);
        border-color: #667eea;
        transform: scale(1.1) rotate(5deg);
    }

    /* Review Cards */
    .review-card {
        background: rgba(30, 41, 59, 0.4);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.05);
        transition: all 0.3s;
    }

    .review-card:hover {
        border-color: rgba(99, 102, 241, 0.3);
        transform: translateX(10px);
    }

    /* Stats Counter */
    @keyframes count-up {
        from {
            opacity: 0;
            transform: translateY(10px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .stat-item {
        animation: count-up 0.6s ease-out forwards;
    }

    /* Breadcrumb */
    .breadcrumb-link {
        transition: all 0.2s;
    }

    .breadcrumb-link:hover {
        color: #667eea;
        transform: translateX(2px);
    }

    /* Price Highlight */
    .price-highlight {
        background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(16, 185, 129, 0.1) 100%);
        border: 2px solid rgba(34, 197, 94, 0.3);
        box-shadow: 0 0 40px rgba(34, 197, 94, 0.2);
    }

    /* Floating Animation */
    @keyframes float-gentle {

        0%,
        100% {
            transform: translateY(0);
        }

        50% {
            transform: translateY(-10px);
        }
    }

    .float-gentle {
        animation: float-gentle 4s ease-in-out infinite;
    }
</style>
{% endblock %}

{% block content %}
<div class="relative min-h-screen detail-bg pb-20">
    <!-- Background Particles -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none -z-10">
        <div class="absolute top-20 left-10 w-96 h-96 bg-primary/10 rounded-full blur-[120px] float-gentle"></div>
        <div class="absolute bottom-20 right-10 w-96 h-96 bg-secondary/10 rounded-full blur-[120px] float-gentle"
            style="animation-delay: -2s;"></div>
    </div>

    <!-- Breadcrumbs -->
    <nav class="max-w-7xl mx-auto px-6 lg:px-8 pt-28 pb-8">
        <div class="flex items-center gap-2 text-sm font-bold uppercase tracking-wider">
            <a href="{{ url_for('pages.home') }}" class="breadcrumb-link text-text-secondary hover:text-primary">
                Home
            </a>
            <span class="material-symbols-outlined text-text-secondary text-lg">chevron_right</span>
            <a href="{{ url_for('services.services_list') }}"
                class="breadcrumb-link text-text-secondary hover:text-primary">
                Services
            </a>
            <span class="material-symbols-outlined text-text-secondary text-lg">chevron_right</span>
            <span class="text-white">{{ service.category.name if service.category else 'General' }}</span>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-12">

            <!-- Left Column: Main Content -->
            <div class="lg:col-span-8 space-y-10">
                <!-- Service Header -->
                <div class="space-y-6">
                    <!-- Category & Status Badges -->
                    <div class="flex items-center gap-3">
                        <div
                            class="px-4 py-2 rounded-xl bg-gradient-to-r from-primary/20 to-secondary/20 border border-primary/30">
                            <span class="text-xs font-black text-primary uppercase tracking-wider">
                                {{ service.category.name if service.category else 'General' }}
                            </span>
                        </div>
                        <div
                            class="px-4 py-2 rounded-xl bg-gradient-to-r from-emerald-500/20 to-green-500/20 border border-emerald-500/30">
                            <div class="flex items-center gap-2">
                                <div class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></div>
                                <span class="text-xs font-black text-emerald-400 uppercase tracking-wider">Available
                                    Now</span>
                            </div>
                        </div>
                    </div>

                    <!-- Title -->
                    <h1 class="text-5xl lg:text-6xl font-black text-white leading-tight tracking-tight">
                        {{ service.title }}
                    </h1>

                    <!-- Service Hero Image -->
                    <div
                        class="service-hero-image relative overflow-hidden rounded-3xl border border-white/10 shadow-2xl">
                        <img src="{% if service.image_url %}{{ url_for('static', filename=service.image_url) }}{% else %}https://images.unsplash.com/photo-1498050108023-c5249f4df085?q=80&w=1200{% endif %}"
                            alt="{{ service.title }}" class="w-full h-96 object-cover">
                        <!-- Gradient Overlay -->
                        <div
                            class="absolute inset-0 bg-gradient-to-t from-background-dark/60 via-transparent to-transparent pointer-events-none">
                        </div>
                    </div>

                    <!-- Seller & Rating Info -->
                    <div class="flex flex-wrap items-center gap-6">
                        <!-- Seller -->
                        <div class="flex items-center gap-3">
                            <div
                                class="w-12 h-12 rounded-full border-2 border-primary/30 overflow-hidden ring-4 ring-primary/10 shadow-xl">
                                <img src="https://ui-avatars.com/api/?name={{ service.user.username if service.user else 'Admin' }}&background=667eea&color=fff"
                                    alt="Seller" class="w-full h-full object-cover">
                            </div>
                            <div>
                                <h4 class="text-sm font-black text-white uppercase tracking-wide">
                                    {{ service.user.username if service.user else 'PRO TEAM' }}
                                </h4>
                                <p class="text-xs font-bold text-primary uppercase tracking-wider">Service Provider</p>
                            </div>
                        </div>

                        <div class="h-10 w-px bg-white/10"></div>

                        <!-- Rating -->
                        <div class="flex items-center gap-3">
                            <div class="flex text-yellow-500">
                                {% for i in range(5) %}
                                <span class="material-symbols-outlined text-xl fill-current">star</span>
                                {% endfor %}
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-2xl font-black text-white">5.0</span>
                                <span class="text-sm font-bold text-text-secondary uppercase tracking-wider">(124
                                    Reviews)</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Description Section -->
                <div class="glass-premium rounded-3xl p-10 space-y-8">
                    <div class="flex items-center gap-3">
                        <div class="h-1 w-16 bg-gradient-to-r from-primary to-secondary rounded-full"></div>
                        <h2 class="text-2xl font-black text-white uppercase tracking-tight">About This Service</h2>
                    </div>

                    <div class="prose prose-invert prose-lg max-w-none">
                        <div class="text-text-secondary leading-relaxed space-y-4">
                            {{ service.description | safe if service.description else 'Get professional solutions
                            tailored to your business needs. Contact us to discuss your project requirements and receive
                            a customized solution that meets your goals. We are here to help you succeed with quality
                            service and expert support.' }}
                        </div>
                    </div>

                    <!-- Key Features -->
                    <div class="pt-6 border-t border-white/10">
                        <h3 class="text-lg font-black text-white uppercase tracking-wide mb-6">What's Included</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            {% for feature in ['Premium Quality Delivery', 'Dedicated Project Manager', 'Unlimited
                            Revisions', 'Source Files Included', '24/7 Priority Support', 'Commercial License'] %}
                            <div
                                class="feature-item flex items-center gap-4 p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-all group">
                                <div class="feature-icon h-12 w-12 rounded-xl flex items-center justify-center">
                                    <span
                                        class="material-symbols-outlined text-primary text-xl group-hover:text-white transition-colors">check_circle</span>
                                </div>
                                <span class="text-white font-bold">{{ feature }}</span>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>

                <!-- Service Stats -->
                <div class="grid grid-cols-3 gap-6">
                    <div class="glass-premium rounded-2xl p-6 text-center stat-item" style="animation-delay: 0s;">
                        <div class="text-4xl font-black text-white mb-2">124+</div>
                        <div class="text-xs font-bold text-text-secondary uppercase tracking-wider">Orders Completed
                        </div>
                    </div>
                    <div class="glass-premium rounded-2xl p-6 text-center stat-item" style="animation-delay: 0.1s;">
                        <div class="text-4xl font-black text-white mb-2">98%</div>
                        <div class="text-xs font-bold text-text-secondary uppercase tracking-wider">Client Satisfaction
                        </div>
                    </div>
                    <div class="glass-premium rounded-2xl p-6 text-center stat-item" style="animation-delay: 0.2s;">
                        <div class="text-4xl font-black text-white mb-2">3 Days</div>
                        <div class="text-xs font-bold text-text-secondary uppercase tracking-wider">Avg. Delivery</div>
                    </div>
                </div>

                <!-- Reviews Section -->
                <div class="glass-premium rounded-3xl p-10 space-y-8">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div class="h-1 w-16 bg-gradient-to-r from-primary to-secondary rounded-full"></div>
                            <h2 class="text-2xl font-black text-white uppercase tracking-tight">Client Reviews</h2>
                        </div>
                        <button
                            class="text-sm font-bold text-primary uppercase tracking-wider hover:text-white transition-colors">
                            View All
                        </button>
                    </div>

                    <div class="space-y-6">
                        {% for review in [
                        {'name': 'John Doe', 'initials': 'JD', 'time': '2 days ago', 'text': 'Absolutely phenomenal
                        work! The attention to detail and professional communication made the entire process seamless.
                        Highly recommended for premium projects.'},
                        {'name': 'Emily Chen', 'initials': 'EC', 'time': '1 week ago', 'text': 'Outstanding quality and
                        delivered ahead of schedule. The team went above and beyond to ensure my vision came to life
                        perfectly. Will definitely work together again!'},
                        {'name': 'Marcus Johnson', 'initials': 'MJ', 'time': '2 weeks ago', 'text': 'Professional,
                        creative, and responsive. They understood exactly what I needed and delivered exceptional
                        results. The best investment for my business!'}
                        ] %}
                        <div class="review-card rounded-2xl p-6">
                            <div class="flex gap-4">
                                <div
                                    class="w-12 h-12 rounded-xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white font-black shadow-lg flex-shrink-0">
                                    {{ review.initials }}
                                </div>
                                <div class="flex-1 space-y-3">
                                    <div class="flex items-center justify-between">
                                        <h4 class="text-white font-bold">{{ review.name }}</h4>
                                        <span class="text-xs font-bold text-text-secondary uppercase tracking-wider">{{
                                            review.time }}</span>
                                    </div>
                                    <div class="flex text-yellow-500">
                                        {% for i in range(5) %}
                                        <span class="material-symbols-outlined text-sm fill-current">star</span>
                                        {% endfor %}
                                    </div>
                                    <p class="text-sm text-text-secondary leading-relaxed">{{ review.text }}</p>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <!-- Right Column: Sidebar -->
            <div class="lg:col-span-4">
                <div class="sticky-sidebar space-y-6">
                    <!-- Pricing Card -->
                    <div class="glass-premium rounded-3xl overflow-hidden shadow-2xl">
                        <!-- Package Header -->
                        <div class="price-highlight p-6 text-center">
                            {% if service.price %}
                            <div class="text-xs font-bold text-text-secondary uppercase tracking-wider mb-2">
                                Starting Price
                            </div>
                            <div class="text-4xl font-black text-white mb-2">
                                â‚¹{{ "{:,.0f}".format(service.price) }}
                            </div>
                            <div class="text-sm font-bold text-emerald-400">
                                Custom packages available
                            </div>
                            {% else %}
                            <div class="text-xl font-black text-white uppercase tracking-wider">
                                Service Package
                            </div>
                            <div class="text-sm font-bold text-text-secondary mt-2">
                                Contact us for pricing details
                            </div>
                            {% endif %}
                        </div>

                        <!-- Package Details -->
                        <div class="p-6 space-y-4">
                            <ul class="space-y-3">
                                <li class="flex items-center gap-3">
                                    <div
                                        class="h-9 w-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0">
                                        <span class="material-symbols-outlined text-primary text-base">task_alt</span>
                                    </div>
                                    <div class="flex-1">
                                        <div class="text-xs font-bold text-text-secondary uppercase tracking-wider">
                                            Service Type</div>
                                        <div class="text-sm font-bold text-white">Professional Work</div>
                                    </div>
                                </li>
                                <li class="flex items-center gap-3">
                                    <div
                                        class="h-9 w-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0">
                                        <span class="material-symbols-outlined text-primary text-base">schedule</span>
                                    </div>
                                    <div class="flex-1">
                                        <div class="text-xs font-bold text-text-secondary uppercase tracking-wider">
                                            Delivery</div>
                                        <div class="text-sm font-bold text-white">As Per Requirements</div>
                                    </div>
                                </li>
                                <li class="flex items-center gap-3">
                                    <div
                                        class="h-9 w-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0">
                                        <span
                                            class="material-symbols-outlined text-primary text-base">support_agent</span>
                                    </div>
                                    <div class="flex-1">
                                        <div class="text-xs font-bold text-text-secondary uppercase tracking-wider">
                                            Support</div>
                                        <div class="text-sm font-bold text-white">Full Assistance</div>
                                    </div>
                                </li>
                            </ul>

                            <!-- CTA Buttons -->
                            <div class="space-y-3 pt-6">
                                <a href="{{ url_for('contact.contact_form') }}"
                                    class="cta-primary block w-full py-3 rounded-xl text-center font-bold text-white uppercase tracking-wider shadow-xl">
                                    <div class="flex items-center justify-center gap-2">
                                        <span>Get Started</span>
                                        <span class="material-symbols-outlined">arrow_forward</span>
                                    </div>
                                </a>

                                <a href="{{ url_for('contact.contact_form') }}"
                                    class="block w-full py-3 rounded-xl text-center font-bold text-white uppercase tracking-wider border border-white/10 hover:border-primary/50 hover:bg-white/5 transition-all">
                                    Contact Us
                                </a>
                            </div>

                            <!-- Trust Badge -->
                            <div class="pt-4 flex items-center justify-center gap-2 text-text-secondary">
                                <span class="material-symbols-outlined text-sm">verified</span>
                                <span class="text-xs font-bold uppercase tracking-wider">Quality Guaranteed</span>
                            </div>
                        </div>
                    </div>

                    <!-- Seller Info Card -->
                    <div
                        class="glass-premium rounded-3xl p-8 hover:border-primary/30 transition-all group cursor-pointer">
                        <div class="flex items-center gap-4 mb-6">
                            <div
                                class="w-16 h-16 rounded-2xl overflow-hidden border-2 border-white/10 ring-4 ring-primary/10 group-hover:ring-primary/30 transition-all">
                                <img src="https://ui-avatars.com/api/?name={{ service.user.username if service.user else 'Admin' }}&background=667eea&color=fff"
                                    alt="Avatar" class="w-full h-full object-cover">
                            </div>
                            <div class="flex-1">
                                <h4 class="text-lg font-black text-white uppercase tracking-wide mb-1">
                                    {{ service.user.username if service.user else 'PRO TEAM' }}
                                </h4>
                                <p class="text-xs font-bold text-primary uppercase tracking-wider">Pro Seller</p>
                            </div>
                        </div>

                        <!-- Seller Stats -->
                        <div class="grid grid-cols-2 gap-4 pt-4 border-t border-white/10">
                            <div class="text-center">
                                <div class="text-2xl font-black text-white mb-1">5.0</div>
                                <div class="text-xs font-bold text-text-secondary uppercase tracking-wider">Rating</div>
                            </div>
                            <div class="text-center">
                                <div class="text-2xl font-black text-white mb-1">124</div>
                                <div class="text-xs font-bold text-text-secondary uppercase tracking-wider">Orders</div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="glass-premium rounded-3xl p-6 space-y-3">
                        <button
                            class="w-full flex items-center justify-between p-4 rounded-xl hover:bg-white/5 transition-all group">
                            <div class="flex items-center gap-3">
                                <span class="material-symbols-outlined text-primary">share</span>
                                <span class="text-sm font-bold text-white">Share Service</span>
                            </div>
                            <span
                                class="material-symbols-outlined text-text-secondary group-hover:translate-x-1 transition-transform">arrow_forward</span>
                        </button>
                        <button
                            class="w-full flex items-center justify-between p-4 rounded-xl hover:bg-white/5 transition-all group">
                            <div class="flex items-center gap-3">
                                <span class="material-symbols-outlined text-red-400">favorite</span>
                                <span class="text-sm font-bold text-white">Save to Favorites</span>
                            </div>
                            <span
                                class="material-symbols-outlined text-text-secondary group-hover:translate-x-1 transition-transform">arrow_forward</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Smooth scroll reveal
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe all major sections
        document.querySelectorAll('.glass-premium, .stat-item').forEach((el, i) => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(30px)';
            el.style.transition = `all 0.6s cubic-bezier(0.4, 0, 0.2, 1) ${i * 0.1}s`;
            observer.observe(el);
        });

        // Add smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    });
</script>
{% endblock %}